---
title: OpenGraph FAQ
description: "The following are common questions about OpenGraph"
---

<img noZoom src="/assets/enterprise-AND-community-edition-pill-tag.svg" alt="Applies to BloodHound Enterprise and CE"/>

<AccordionGroup>
<Accordion title="Can I define my own icons in OpenGraph?">
Yes you can!
You can find all the details [here](custom-icons)
</Accordion>
<Accordion title="Can I delete data ingested via OpenGraph?">
Yes you can!

You can remove generic data by using one of the following three (3) options:

1. Cypher commands in the Explore UI
    - Requires `enable_cypher_mutations: true` in config. For more info [click here](/manage-bloodhound/bh-config#enable-cypher-mutations)

2. Admin UI → Database Management page
    - The following checkboxes will be displayed
    - All Data
    - Active Directory Data
    - Azure Data
    - … X Data (there will be 0 or more checkboxes here that allow you to delete any data that had been ingested with a `source_kind` provided)
    - Sourceless Data (checking this box will delete all entities that do not have a kind that can be found in the `source_kinds` table.  You can observe the `source_kinds` your BloodHound instance is currently aware of by calling `GET api/v2/graphs/source_kinds`.)

3. API: `Clear-Database`
    - See the [OpenGraph API Page](/opengraph/API) for more information

</Accordion>
<Accordion title="Do custom nodes & edges work with Search and Pathfinding?">
No, not yet.

In the initial BloodHound 8.0 release, OpenGraph nodes and edges are not supported in the Search or Pathfinding tab, so the Cypher tab **must** be used to query the data manually.
</Accordion>
<Accordion title="How can I add my project to the OpenGraph library?">
Have you built a cool project using OpenGraph and want it featured here? Already got your project in the list and need to update something? Open a ["Library Change" issue](https://github.com/SpecterOps/bloodhound-docs/issues) on the BloodHound Docs repo and we'll get it added for you!

Submissions from the community will have a <Icon icon="people-group" color="#ffffff" /> icon next to them while those by SpecterOps employees will have a SpecterOps icon.
</Accordion>
<Accordion title="Why is it taking so long to ingest OpenGraph data?">
Slow ingestion speeds are commonly seen when using a Neo4j graph database and are typically resolved by switching to a PostgreSQL backend. For full, officially supported OpenGraph functionality, use a PostgreSQL backend (see [Requirements](/opengraph/best-practices#requirements)).

To switch to a PostgreSQL graph database, set `"graph_driver": "pg"` in your `bloodhound.config.json` file and restart the BloodHound services/containers. You will need to re-ingest any data into the new database.
</Accordion>
<Accordion title="Why do OpenGraph nodes sometimes disappear after ingestion?">
There is a reconciliation step in BloodHound that prunes orphaned nodes (nodes that have no edge relationships) shortly after ingestion. This is distinct from the edge [post-processing](/opengraph/schema#post-processing) behavior and is intended to reduce stale or unconnected objects in the graph.

What this means:

- If you ingest nodes without edges, BloodHound Enterprise Edition (BHE) may remove them during reconciliation and they will appear to "vanish" after ingestion.
- This behavior can differ from the BloodHound Community Edition (BHCE) because BHE applies additional reconciliation logic.

Recommended workarounds:

1. Ensure each node has at least one relationship in the same payload. Including an edge that links the node to an existing object is the simplest fix.

1. Anchor your OpenGraph data to a lightweight root node. For example, create a single root like `(:OGRoot)` and add a containment edge such as `(:OGRoot)-[:OGContains]->(:YourNode)` to keep nodes from being pruned. Use an edge kind that you exclude from your path queries if you don't want it to affect pathfinding.

1. Use a registered `source_kind` (e.g., `Base`, `AZBase`, `Okta`) or include an appropriate kind in the node's `kinds` array when applicable. Nodes that resemble existing SharpHound/AzureHound/Okta data are treated as managed data by the database management tools.

### Example: root node + containment edge
The following minimal OpenGraph JSON shows a lightweight root node that anchors a user node with a containment edge. Anchoring like this prevents the node from being pruned as an orphan.

```json
{
    "$schema": "https://raw.githubusercontent.com/SpecterOps/bloodhound-opengraph/main/bloodhound-opengraph.schema.json",
    "metadata": {
        "source_kind": "Base"
    },
    "graph": {
        "nodes": [
            {
                "id": "og-root",
                "properties": { "name": "OG Root", "label": "OGRoot" },
                "kinds": [ "OGRoot" ]
            },
            {
                "id": "S-1-5-21-2697957641-2271029196-387917395-2244",
                "properties": { "name": "test@example.com", "label": "User" },
                "kinds": [ "User", "Base" ]
            }
        ],
        "edges": [
            {
                "start": { "value": "og-root", "match_by": "id", "kind": "OGRoot" },
                "kind": "OGContains",
                "end": { "value": "S-1-5-21-2697957641-2271029196-387917395-2244", "match_by": "id", "kind": "User" }
            }
        ]
    }
}
```

</Accordion>
</AccordionGroup>
